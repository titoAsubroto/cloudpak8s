{"componentChunkName":"component---src-pages-integration-cp-4-i-deploy-asset-repo-index-mdx","path":"/integration/cp4i-deploy-asset-repo/","result":{"pageContext":{"frontmatter":{"title":"Asset Repository","description":"Basic guide for deploying the Asset Repository","keywords":"ibm, install, integration, Asset Repository, Asset Repo"},"relativePagePath":"/integration/cp4i-deploy-asset-repo/index.mdx","titleType":"page","MdxNode":{"id":"b8bcaa8b-c8b4-503b-9324-fa85f28264b8","children":[],"parent":"905970ae-53c8-5b86-9483-4d2b1670bc62","internal":{"content":"---\ntitle: Asset Repository\ndescription: Basic guide for deploying the Asset Repository\nkeywords: 'ibm, install, integration, Asset Repository, Asset Repo'\n---\n\n- [Introduction](#introduction)\n- [Prepare Installation](#prepare-installation)\n- [Begin Installation](#begin-installation)\n- [Validate installation](#validate-installation)\n\n### Introduction\nThis page contains guidance on how to configure the Asset Repository\nrelease for both on-prem and IBM Cloud.\n\n### Prepare Installation\n\n1. You have a few choices on where you can deploy the Asset Repository.\nYou can either deploy it to the `integration` namespace or wherever your\nplatform navigator is installed, or in some cases (like IBM Cloud) where a\nseparate namespace will be created for the asset repository.\n2. The Asset Repository Requires the use of persistent storage, like\ngluster-fs and/or ceph.  Note that there are some parts of the Asset Repo\nthat work better with block storage (like Cloudant).  These will be called\nout in the installation instructions below.\n3. To use the remote syncing capability into github, a publically facing\ngithub account is required.  More info on this can be found\n[here](https://www.ibm.com/support/knowledgecenter/SSGT7J_19.4/asset_repo.html).\n4. Note that the default replica set size for the install for all of the\nasset repo components is 3.  For POC/Dev type systems, you can scale these\nback to one replica to save resources.  However note this is *NOT*\nrecommended for production systems.\n5. You might need to add permissions for your namespace, depending on\nwhere you are installing the asset repository.  Use the following commands\nand replace the last &lt;namespace&gt; argument with your targeted\nnamespace.  If you are installing this into the same namespace where the\nplatform navigator is located, use that namespace (e.g. `integration`).\n```\noc adm policy add-scc-to-group ibm-anyuid-scc system:serviceaccounts:&lt;namespace&gt;\noc adm policy add-scc-to-group anyuid system:serviceaccounts:&lt;namespace&gt;\n```\n\n\n### Begin Installation\n1. Go to CP4I Platform Home. Click **Create Instance** inside\nthe **Asset Repo** tile.\n2. A window will pop up with a description of the requirements for\ninstalling. Click **Continue** to the helm chart deployment configuration.\n3. Click **Overview** to view the chart information and pre-reqs.\n4. Click **Configure**\n5. Enter the Helm release name. In our example, **asset-repo**\n6. Enter Target Namespace.  As indicated above, this can be in\nthe `integration` namespace or another namespace setup for you.\n7. Select a Cluster - **local-cluster**.\n8. Tick the license agreement box.\n9. Under Parameters -> Quick start\n   a. Hostname of the ingress proxy to be configured - This will be your\n   proxy node for your install.\n10.  Click All Parameters twisty\n11. Image Pull Secret -> Set to `ibm-entitlement-key` if using entitled\nregistry or if offline use the `deployer-dockercfg-XX` secret in your\nace namespace.  Use `oc get secrets` to get the exact value for your\nenvironment.\n12. Untick the `Production usage` checkbox.\n13. Double check that the `Platform Navigator Namespace` is set properly\nfor your environment.\n14. For `Cloudant metadata store storage class` set that value to your\nblock storageclass.  Non-block will work fine here too, but block will\ndefinitely be faster.\n15. As you go through the chart, you can scale down the replicas\nfor `Cloudant`, `Catalog API`, `DC main`, `Portal Catalog`,\n`Asset Storage`, `Portal Common` and `Catalog Remotes` from 3 to 1.\n16. Be sure to also set the `Asset storage Storage Class` and\n`Catalog remotes Storage Class` to your non-block storage.\n17. Scroll down and then Click **Install** to fire off the chart\ninstallation\n\n\n### Validate installation\n\n1. Here is a representation of all pods running\n![](/assets/img/integration/deploy-asset-repo/16.asset-repo-pods.png)\n","type":"Mdx","contentDigest":"d77e2d3de1968747888ce522be9b7d87","counter":257,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Asset Repository","description":"Basic guide for deploying the Asset Repository","keywords":"ibm, install, integration, Asset Repository, Asset Repo"},"exports":{},"rawBody":"---\ntitle: Asset Repository\ndescription: Basic guide for deploying the Asset Repository\nkeywords: 'ibm, install, integration, Asset Repository, Asset Repo'\n---\n\n- [Introduction](#introduction)\n- [Prepare Installation](#prepare-installation)\n- [Begin Installation](#begin-installation)\n- [Validate installation](#validate-installation)\n\n### Introduction\nThis page contains guidance on how to configure the Asset Repository\nrelease for both on-prem and IBM Cloud.\n\n### Prepare Installation\n\n1. You have a few choices on where you can deploy the Asset Repository.\nYou can either deploy it to the `integration` namespace or wherever your\nplatform navigator is installed, or in some cases (like IBM Cloud) where a\nseparate namespace will be created for the asset repository.\n2. The Asset Repository Requires the use of persistent storage, like\ngluster-fs and/or ceph.  Note that there are some parts of the Asset Repo\nthat work better with block storage (like Cloudant).  These will be called\nout in the installation instructions below.\n3. To use the remote syncing capability into github, a publically facing\ngithub account is required.  More info on this can be found\n[here](https://www.ibm.com/support/knowledgecenter/SSGT7J_19.4/asset_repo.html).\n4. Note that the default replica set size for the install for all of the\nasset repo components is 3.  For POC/Dev type systems, you can scale these\nback to one replica to save resources.  However note this is *NOT*\nrecommended for production systems.\n5. You might need to add permissions for your namespace, depending on\nwhere you are installing the asset repository.  Use the following commands\nand replace the last &lt;namespace&gt; argument with your targeted\nnamespace.  If you are installing this into the same namespace where the\nplatform navigator is located, use that namespace (e.g. `integration`).\n```\noc adm policy add-scc-to-group ibm-anyuid-scc system:serviceaccounts:&lt;namespace&gt;\noc adm policy add-scc-to-group anyuid system:serviceaccounts:&lt;namespace&gt;\n```\n\n\n### Begin Installation\n1. Go to CP4I Platform Home. Click **Create Instance** inside\nthe **Asset Repo** tile.\n2. A window will pop up with a description of the requirements for\ninstalling. Click **Continue** to the helm chart deployment configuration.\n3. Click **Overview** to view the chart information and pre-reqs.\n4. Click **Configure**\n5. Enter the Helm release name. In our example, **asset-repo**\n6. Enter Target Namespace.  As indicated above, this can be in\nthe `integration` namespace or another namespace setup for you.\n7. Select a Cluster - **local-cluster**.\n8. Tick the license agreement box.\n9. Under Parameters -> Quick start\n   a. Hostname of the ingress proxy to be configured - This will be your\n   proxy node for your install.\n10.  Click All Parameters twisty\n11. Image Pull Secret -> Set to `ibm-entitlement-key` if using entitled\nregistry or if offline use the `deployer-dockercfg-XX` secret in your\nace namespace.  Use `oc get secrets` to get the exact value for your\nenvironment.\n12. Untick the `Production usage` checkbox.\n13. Double check that the `Platform Navigator Namespace` is set properly\nfor your environment.\n14. For `Cloudant metadata store storage class` set that value to your\nblock storageclass.  Non-block will work fine here too, but block will\ndefinitely be faster.\n15. As you go through the chart, you can scale down the replicas\nfor `Cloudant`, `Catalog API`, `DC main`, `Portal Catalog`,\n`Asset Storage`, `Portal Common` and `Catalog Remotes` from 3 to 1.\n16. Be sure to also set the `Asset storage Storage Class` and\n`Catalog remotes Storage Class` to your non-block storage.\n17. Scroll down and then Click **Install** to fire off the chart\ninstallation\n\n\n### Validate installation\n\n1. Here is a representation of all pods running\n![](/assets/img/integration/deploy-asset-repo/16.asset-repo-pods.png)\n","fileAbsolutePath":"/home/travis/build/ibm-cloud-architecture/cloudpak8s/src/pages/integration/cp4i-deploy-asset-repo/index.mdx"}}}}